
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بنك شام الإلكتروني - SHAM Bank</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="index.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        shamGold: '#D4AF37',
                        shamBlue: '#1e40af'
                    },
                    fontFamily: {
                        'arabic': ['Segoe UI', 'Tahoma', 'Arial', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
        }
        .crypto-card-hover {
            transition: all 0.3s ease;
        }
        .crypto-card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .balance-card {
            background: linear-gradient(135deg, #5D5CDE 0%, #8B5CF6 100%);
        }
        .deposit-btn {
            transition: all 0.3s ease;
        }
        .deposit-btn:hover {
            transform: scale(1.05);
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .transaction-item {
            transition: all 0.2s ease;
        }
        .transaction-item:hover {
            background-color: rgba(93, 92, 222, 0.05);
        }
    </style>
<script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^1.14.0",
    "html5-qrcode": "https://esm.sh/html5-qrcode@^2.3.8"
  }
}
</script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 min-h-screen font-arabic pb-20">
    <!-- Header -->
    <header class="bg-white dark:bg-gray-800 shadow-lg sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <div class="bg-primary p-2 rounded-xl ml-3">
                        <i class="fas fa-university text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900 dark:text-white">بنك شام</h1>
                        <p class="text-sm text-gray-600 dark:text-gray-300">SHAM Bank</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4 space-x-reverse">
                    <button class="p-2 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300">
                        <i class="fas fa-bell"></i>
                    </button>
                    <div class="w-8 h-8 bg-primary rounded-full flex items-center justify-center">
                        <i class="fas fa-user text-white text-sm"></i>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Home Screen -->
        <div id="home-screen" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Welcome Section -->
            <div class="mb-8 animate-fade-in">
                <h2 id="welcome-message" class="text-3xl font-bold text-gray-900 dark:text-white mb-2">مرحباً بك في بنك شام</h2>
                <p class="text-gray-600 dark:text-gray-300">إدارة حسابك وإيداعاتك بسهولة وأمان</p>
            </div>

            <!-- Balance Card -->
            <div class="balance-card rounded-2xl p-6 text-white mb-8 animate-fade-in">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <p class="text-white/80 text-sm">الرصيد الإجمالي</p>
                        <p class="text-3xl font-bold" id="totalBalance">250,750.00 ل.س</p>
                    </div>
                    <div class="bg-white/20 p-3 rounded-xl">
                        <i class="fas fa-wallet text-white text-xl"></i>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div>
                        <p class="text-white/80">الرصيد المتاح</p>
                        <p class="font-semibold">245,750.00 ل.س</p>
                    </div>
                    <div>
                        <p class="text-white/80">رصيد العملات الرقمية</p>
                        <p class="font-semibold">$1,250.00</p>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                <!-- Scan to Pay -->
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-lg animate-fade-in">
                    <div class="text-center">
                        <div class="bg-blue-500 p-3 rounded-xl mx-auto mb-3 w-fit">
                            <i class="fas fa-camera text-white text-xl"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-1">امسح للدفع</h3>
                        <p class="text-xs text-gray-600 dark:text-gray-300">مسح رمز QR</p>
                    </div>
                    <button id="scan-pay-btn" class="w-full bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-3 rounded-xl mt-3 deposit-btn text-sm">
                        البدء الآن
                    </button>
                </div>

                <!-- My Code -->
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-lg animate-fade-in">
                    <div class="text-center">
                        <div class="bg-green-500 p-3 rounded-xl mx-auto mb-3 w-fit">
                            <i class="fas fa-qrcode text-white text-xl"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-1">كودي</h3>
                        <p class="text-xs text-gray-600 dark:text-gray-300">استلام الأموال</p>
                    </div>
                    <button id="my-code-btn" class="w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-3 rounded-xl mt-3 deposit-btn text-sm">
                        عرض الرمز
                    </button>
                </div>

                <!-- Sham Cash Deposit -->
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-lg animate-fade-in">
                    <div class="text-center">
                        <div class="bg-shamGold p-3 rounded-xl mx-auto mb-3 w-fit">
                            <i class="fas fa-mobile-alt text-white text-xl"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-1">شام كاش</h3>
                        <p class="text-xs text-gray-600 dark:text-gray-300">إيداع سريع</p>
                    </div>
                    <button id="sham-cash-btn" class="w-full bg-shamGold hover:bg-yellow-600 text-white font-semibold py-2 px-3 rounded-xl mt-3 deposit-btn text-sm">
                        إيداع الآن
                    </button>
                </div>
                 <!-- Send XRP -->
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-lg animate-fade-in">
                    <div class="text-center">
                        <div class="bg-purple-500 p-3 rounded-xl mx-auto mb-3 w-fit">
                            <i class="fab fa-xing text-white text-xl"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-1">إرسال XRP</h3>
                        <p class="text-xs text-gray-600 dark:text-gray-300">تحويل فوري</p>
                    </div>
                    <button id="xrp-send-btn" class="w-full bg-purple-500 hover:bg-purple-600 text-white font-semibold py-2 px-3 rounded-xl mt-3 deposit-btn text-sm">
                        إرسال الآن
                    </button>
                </div>
            </div>

            <!-- Quick Contacts -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg mb-8 animate-fade-in">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white">إرسال سريع</h3>
                    <button class="text-primary hover:text-purple-700">
                        <i class="fas fa-plus-circle"></i> إضافة
                    </button>
                </div>
                <div id="quick-contacts-container" class="flex space-x-4 space-x-reverse overflow-x-auto pb-2">
                    <!-- Contacts will be injected here by JS -->
                </div>
            </div>
            
            <!-- Recent Transactions -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg animate-fade-in">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-6">المعاملات الأخيرة</h3>
                <div class="space-y-4" id="transactionsList">
                     <div class="transaction-item flex items-center justify-between p-4 rounded-xl border border-gray-100 dark:border-gray-700">
                        <div class="flex items-center">
                            <div class="bg-red-100 dark:bg-red-900 p-2 rounded-lg ml-3">
                                <i class="fas fa-arrow-up text-red-600 dark:text-red-400"></i>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-900 dark:text-white">إرسال XRP</p>
                                <p class="text-sm text-gray-600 dark:text-gray-300">اليوم، 15:00</p>
                            </div>
                        </div>
                        <p class="font-bold text-red-600 dark:text-red-400">-150.00 XRP</p>
                    </div>
                    <div class="transaction-item flex items-center justify-between p-4 rounded-xl border border-gray-100 dark:border-gray-700">
                        <div class="flex items-center">
                            <div class="bg-green-100 dark:bg-green-900 p-2 rounded-lg ml-3">
                                <i class="fas fa-arrow-down text-green-600 dark:text-green-400"></i>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-900 dark:text-white">إيداع من شام كاش</p>
                                <p class="text-sm text-gray-600 dark:text-gray-300">اليوم، 14:30</p>
                            </div>
                        </div>
                        <p class="font-bold text-green-600 dark:text-green-400">+50,000 ل.س</p>
                    </div>
                    <div class="transaction-item flex items-center justify-between p-4 rounded-xl border border-gray-100 dark:border-gray-700">
                        <div class="flex items-center">
                            <div class="bg-blue-100 dark:bg-blue-900 p-2 rounded-lg ml-3">
                                <i class="fab fa-bitcoin text-blue-600 dark:text-blue-400"></i>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-900 dark:text-white">إيداع BTC</p>
                                <p class="text-sm text-gray-600 dark:text-gray-300">أمس، 09:15</p>
                            </div>
                        </div>
                        <p class="font-bold text-green-600 dark:text-green-400">+0.0025 BTC</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Cards Screen -->
        <div id="cards-screen" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 hidden">
            <div class="animate-fade-in">
                 <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">بطاقاتي</h2>
                    <p class="text-gray-600 dark:text-gray-300">إدارة بطاقاتك الورقية والرقمية</p>
                </div>

                <!-- Fiat Card Section -->
                <div class="mb-10">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">البطاقات الورقية</h3>
                    <div class="visa-card fiat-card p-6 flex flex-col justify-between text-white shadow-lg">
                        <div class="flex justify-between items-start">
                            <div class="card-chip"></div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" alt="Visa Logo" class="h-6">
                        </div>
                        <div class="text-left">
                            <p id="fiat-card-number" class="font-mono text-xl tracking-widest mb-2">**** **** **** ****</p>
                            <div class="flex justify-between text-sm">
                                <p id="fiat-card-name" class="uppercase">USER NAME</p>
                                <p id="fiat-card-expiry">--/--</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-2xl p-4 shadow-lg mt-4">
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-1">رقم الحساب الدولي (IBAN)</p>
                        <div class="flex justify-between items-center">
                            <p id="iban-number" class="font-mono text-primary dark:text-purple-400 text-sm">--------------------------</p>
                            <button id="copy-iban-btn" class="text-gray-500 hover:text-primary"><i class="fas fa-copy"></i></button>
                        </div>
                    </div>
                </div>

                <!-- Crypto Card Section -->
                <div>
                     <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-4">بطاقات العملات الرقمية</h3>
                    <div class="visa-card crypto-card-bg p-6 flex flex-col justify-between text-white shadow-lg">
                         <div class="flex justify-between items-start">
                            <div class="card-chip"></div>
                            <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" alt="Visa Logo" class="h-6 invert">
                        </div>
                        <div class="text-left">
                            <p id="crypto-card-number" class="font-mono text-xl tracking-widest mb-2">**** **** **** ****</p>
                            <div class="flex justify-between text-sm">
                                <p id="crypto-card-name" class="uppercase">USER NAME</p>
                                <p id="crypto-card-expiry">--/--</p>
                            </div>
                        </div>
                    </div>
                     <button id="add-to-wallet-btn" class="w-full bg-black hover:bg-gray-800 text-white font-semibold py-3 px-4 rounded-xl mt-4 flex items-center justify-center gap-2 deposit-btn">
                         <i class="fab fa-google-pay text-2xl"></i>
                         <span>إضافة إلى محفظة جوجل</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Crypto Screen -->
        <div id="crypto-screen" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 hidden">
            <div class="animate-fade-in">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">محفظة العملات الرقمية</h2>
                    <p class="text-gray-600 dark:text-gray-300">إدارة أصولك الرقمية بأمان</p>
                </div>
                <div class="balance-card rounded-2xl p-6 text-white mb-8">
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <p class="text-white/80 text-sm">إجمالي رصيد العملات الرقمية</p>
                            <p class="text-3xl font-bold">$1,250.00</p>
                        </div>
                        <div class="bg-white/20 p-3 rounded-xl">
                            <i class="fas fa-coins text-white text-xl"></i>
                        </div>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4 mb-8">
                    <button id="crypto-deposit-btn" class="w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-3 rounded-xl deposit-btn flex items-center justify-center gap-2">
                        <i class="fas fa-arrow-down"></i>
                        إيداع
                    </button>
                    <button id="crypto-withdraw-btn" class="w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-3 rounded-xl deposit-btn flex items-center justify-center gap-2">
                        <i class="fas fa-arrow-up"></i>
                        سحب
                    </button>
                </div>
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg">
                    <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-6">أصولي</h3>
                    <div class="space-y-3">
                        <!-- Asset Item: BTC -->
                        <div class="asset-item flex items-center justify-between p-3 rounded-xl">
                            <div class="flex items-center gap-4">
                                <div class="bg-green-500 w-10 h-10 rounded-full flex items-center justify-center"><i class="fab fa-bitcoin text-white"></i></div>
                                <div>
                                    <p class="font-bold text-gray-900 dark:text-white">Bitcoin</p>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">BTC</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-gray-900 dark:text-white">0.0125 BTC</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">$1,215.56</p>
                            </div>
                        </div>
                        <!-- Asset Item: USDT -->
                        <div class="asset-item flex items-center justify-between p-3 rounded-xl">
                            <div class="flex items-center gap-4">
                                <div class="bg-blue-500 w-10 h-10 rounded-full flex items-center justify-center"><span class="text-white font-bold text-sm">USDT</span></div>
                                <div>
                                    <p class="font-bold text-gray-900 dark:text-white">Tether</p>
                                    <p class="text-sm text-gray-500 dark:text-gray-400">USDT</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="font-bold text-gray-900 dark:text-white">34.44 USDT</p>
                                <p class="text-sm text-gray-500 dark:text-gray-400">$34.44</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Security Screen -->
        <div id="security-screen" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 hidden">
            <div class="animate-fade-in">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">الأمان</h2>
                    <p class="text-gray-600 dark:text-gray-300">إدارة إعدادات الأمان الخاصة بحسابك</p>
                </div>
                <div class="space-y-6">
                    <!-- Security Options -->
                    <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg">
                         <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-6">خيارات الأمان</h3>
                         <div class="space-y-5">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-4">
                                    <i class="fas fa-key text-primary text-xl w-6 text-center"></i>
                                    <div>
                                        <p class="font-semibold text-gray-900 dark:text-white">تغيير كلمة المرور</p>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">تحديث كلمة المرور بشكل دوري</p>
                                    </div>
                                </div>
                                <button class="text-primary hover:underline">تغيير</button>
                            </div>
                             <div class="flex items-center justify-between">
                                 <div class="flex items-center gap-4">
                                     <i class="fas fa-shield-alt text-primary text-xl w-6 text-center"></i>
                                     <div>
                                        <p class="font-semibold text-gray-900 dark:text-white">المصادقة الثنائية (2FA)</p>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">طبقة أمان إضافية لحسابك</p>
                                    </div>
                                 </div>
                                 <label class="toggle-switch">
                                     <input type="checkbox" checked>
                                     <span class="slider"></span>
                                 </label>
                             </div>
                             <div class="flex items-center justify-between">
                                 <div class="flex items-center gap-4">
                                     <i class="fas fa-fingerprint text-primary text-xl w-6 text-center"></i>
                                     <div>
                                        <p class="font-semibold text-gray-900 dark:text-white">تسجيل الدخول بالبصمة</p>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">استخدم بصمتك لتسجيل الدخول</p>
                                    </div>
                                 </div>
                                 <label class="toggle-switch">
                                     <input type="checkbox">
                                     <span class="slider"></span>
                                 </label>
                             </div>
                         </div>
                    </div>

                    <!-- Active Sessions -->
                    <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-6">الجلسات النشطة</h3>
                        <div class="space-y-4">
                            <div class="session-item flex items-center justify-between">
                                <div class="flex items-center gap-4">
                                    <i class="fas fa-mobile-alt text-gray-500 text-2xl"></i>
                                    <div>
                                        <p class="font-semibold text-gray-900 dark:text-white">iPhone 15 Pro</p>
                                        <p class="text-sm text-green-500">نشط الآن</p>
                                    </div>
                                </div>
                                <button class="text-gray-500 hover:text-red-500 font-semibold">تسجيل الخروج</button>
                            </div>
                            <div class="session-item flex items-center justify-between">
                                <div class="flex items-center gap-4">
                                    <i class="fas fa-desktop text-gray-500 text-2xl"></i>
                                    <div>
                                        <p class="font-semibold text-gray-900 dark:text-white">Windows 11, Chrome</p>
                                        <p class="text-sm text-gray-500 dark:text-gray-400">نشط قبل 3 ساعات</p>
                                    </div>
                                </div>
                                <button class="text-gray-500 hover:text-red-500 font-semibold">تسجيل الخروج</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- Bottom Navigation -->
    <footer class="bottom-nav">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-around h-16">
                <button id="nav-home" class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span class="font-semibold">الرئيسية</span>
                </button>
                <button id="nav-cards" class="nav-item">
                    <i class="fas fa-credit-card"></i>
                    <span class="font-semibold">البطاقات</span>
                </button>
                <button id="nav-crypto" class="nav-item">
                    <i class="fas fa-coins"></i>
                    <span class="font-semibold">العملات الرقمية</span>
                </button>
                 <button id="nav-security" class="nav-item">
                    <i class="fas fa-shield-alt"></i>
                    <span class="font-semibold">الأمان</span>
                </button>
            </div>
        </div>
    </footer>


    <!-- Modals -->
    <!-- Sham Cash Deposit Modal -->
    <div id="shamCashModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md animate-fade-in">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white">إيداع من شام كاش</h3>
                <button id="close-sham-cash-btn" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">رقم هاتف شام كاش</label>
                    <input type="tel" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="09xxxxxxxx">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">المبلغ (ل.س)</label>
                    <input type="number" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="أدخل المبلغ">
                </div>
                <button id="process-sham-cash-btn" class="w-full bg-shamGold hover:bg-yellow-600 text-white font-semibold py-3 px-4 rounded-xl">
                    تأكيد الإيداع
                </button>
            </div>
        </div>
    </div>

    <!-- Crypto Deposit Modal -->
    <div id="cryptoModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md animate-fade-in">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white">إيداع العملات الرقمية</h3>
                <button id="close-crypto-btn" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">اختر العملة</label>
                    <select id="cryptoSelect" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                        <option value="">اختر العملة الرقمية</option>
                        <option value="BTC">Bitcoin (BTC)</option>
                        <option value="USDT">Tether (USDT)</option>
                        <option value="XRP">Ripple (XRP)</option>
                        <option value="SOL">Solana (SOL)</option>
                        <option value="TON">Toncoin (TON)</option>
                    </select>
                </div>
                <div id="cryptoAddressContainer" class="hidden">
                    <p class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">عنوان الإيداع الخاص بك</p>
                    <div class="bg-gray-100 dark:bg-gray-700 p-4 rounded-xl flex items-center justify-between">
                        <span id="cryptoAddress" class="text-sm font-mono text-gray-800 dark:text-gray-200 break-all"></span>
                        <button id="copy-crypto-address-btn" class="text-primary hover:text-purple-700 mr-4">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Crypto Withdraw Modal -->
    <div id="cryptoWithdrawModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md animate-fade-in">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white">سحب العملات الرقمية</h3>
                <button id="close-crypto-withdraw-btn" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">اختر العملة</label>
                    <select class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white">
                        <option value="BTC">Bitcoin (BTC)</option>
                        <option value="USDT">Tether (USDT)</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">عنوان المستلم</label>
                    <input type="text" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="أدخل عنوان المحفظة">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">المبلغ</label>
                    <input type="number" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="أدخل المبلغ">
                </div>
                <button id="process-crypto-withdraw-btn" class="w-full bg-red-500 hover:bg-red-600 text-white font-semibold py-3 px-4 rounded-xl">
                    تأكيد السحب
                </button>
            </div>
        </div>
    </div>

    <!-- Send XRP Modal -->
    <div id="xrpSendModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md animate-fade-in">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white">إرسال XRP</h3>
                <button id="close-xrp-send-btn" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">عنوان المستلم (XRP)</label>
                    <input type="text" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="r...">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Destination Tag (اختياري)</label>
                    <input type="number" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="أدخل الوسم الرقمي">
                </div>
                 <div>
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">المبلغ (XRP)</label>
                    <input type="number" class="w-full px-4 py-3 text-base border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700 dark:text-white" placeholder="أدخل المبلغ">
                </div>
                <button id="process-xrp-send-btn" class="w-full bg-purple-500 hover:bg-purple-600 text-white font-semibold py-3 px-4 rounded-xl">
                    تأكيد الإرسال
                </button>
            </div>
        </div>
    </div>

    <!-- My Code Modal -->
    <div id="myCodeModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-sm text-center animate-fade-in">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-gray-900 dark:text-white">الرمز الخاص بي</h3>
                <button id="close-my-code-btn" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <p class="text-gray-600 dark:text-gray-300 mb-4">اطلب من الآخرين مسح هذا الرمز لإرسال الأموال إليك.</p>
            <div class="p-4 bg-white rounded-lg inline-block">
                <img id="my-qr-code-img" src="" alt="Your QR Code" class="w-48 h-48 mx-auto">
            </div>
            <div class="mt-4">
                <p id="my-code-name" class="font-bold text-lg text-gray-900 dark:text-white">USER NAME</p>
                <p id="my-code-account-id" class="text-sm text-gray-500 dark:text-gray-400">USER-ACCOUNT-ID</p>
            </div>
        </div>
    </div>
    
    <!-- Scan to Pay Modal -->
    <div id="scanPayModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
        <div class="bg-gray-800 bg-opacity-90 rounded-2xl p-4 w-full max-w-md animate-fade-in relative">
             <button id="close-scan-pay-btn" class="absolute top-4 left-4 text-white bg-black/50 rounded-full w-8 h-8 flex items-center justify-center z-10">
                <i class="fas fa-times"></i>
            </button>
            <div id="qr-reader" class="w-full"></div>
             <p class="text-white text-center mt-4 font-semibold">وجّه الكاميرا نحو رمز QR</p>
        </div>
    </div>


    <!-- AI Chatbot FAB -->
    <button id="chat-fab" class="chat-fab">
        <i class="fas fa-headset text-2xl"></i>
    </button>

    <!-- AI Chatbot Modal -->
    <div id="chat-modal" class="chat-modal">
        <div class="chat-header">
            <div class="flex items-center">
                 <div class="bg-white/20 p-2 rounded-lg ml-3">
                    <i class="fas fa-robot text-white"></i>
                </div>
                <div>
                    <h3 class="font-bold text-white">مساعد شام الذكي</h3>
                    <p class="text-xs text-white/80">متصل</p>
                </div>
            </div>
            <button id="chat-close-btn" class="text-white/80 hover:text-white">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        <div id="chat-messages" class="chat-messages">
             <!-- Messages will be injected here -->
        </div>
        <form id="chat-form" class="chat-form">
            <input type="text" id="chat-input" placeholder="اسأل أي شيء..." autocomplete="off" class="flex-grow bg-white dark:bg-gray-600 text-gray-900 dark:text-white rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary">
            <button type="submit" id="chat-send-btn" class="bg-primary text-white rounded-lg p-2 ml-2 flex-shrink-0">
                <i class="fas fa-paper-plane"></i>
            </button>
        </form>
    </div>

    <script type="module" src="index.tsx"></script>

</body>
</html>